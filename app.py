import streamlit as st

# --- ุจูุงูุงุชู ุงูุฎุงุตุฉ (ุงููุฏูุฑ) ---
ADMIN_NAME = "ALI FETORY"
ADMIN_PHONE = "0925843353"

# --- ูุงุฆูุฉ ุงูุฃุฌูุฒุฉ ุงูููุนูุฉ (ุงูุฒุจุงุฆู ุงููุดุชุฑููู) ---
AUTHORIZED_DEVICES = [
    "245263093229977", # ุจุตูุฉ ุฌูุงุฒู ุงูุญุงูู
]

if 'authenticated' not in st.session_state:
    st.session_state.authenticated = False

# ุจุตูุฉ ุงูุฌูุงุฒ (ุงูุชู ุณุชุธูุฑ ููุฒุจูู)
current_device = "245263093229977" 

if not st.session_state.authenticated:
    st.title("๐ก๏ธ ูุธุงู ุงููุตูู - ุดุฑูุฉ ุงููุณุงุฑ ุงูุฐูุจู")
    
    tab1, tab2 = st.tabs(["ุฏุฎูู ุงูุฒุจุงุฆู", "ุจูุงุจุฉ ุงููุฏูุฑ"])
    
    with tab1:
        st.error("โ๏ธ ุงููุณุฎุฉ ุบูุฑ ููุนูุฉ ููุฐุง ุงูุฌูุงุฒ")
        st.info(f"ุจุตูุฉ ุงูุฌูุงุฒ: {current_device}")
        st.write("ูุฑุฌู ุงูุชูุงุตู ูุน ุงูุฅุฏุงุฑุฉ ููุญุตูู ุนูู ุงูุชุฑุฎูุต.")
        
    with tab2:
        st.subheader("ุฏุฎูู ุงููุฏูุฑ")
        # .strip().upper() ูุถูุงู ุนุฏู ุงูุชุฃุซุฑ ุจุงูุญุฑูู ุงููุจูุฑุฉ ุฃู ุงูุตุบูุฑุฉ ุฃู ุงููุณุงูุงุช
        name_in = st.text_input("ุงูุฃุณู").strip().upper()
        phone_in = st.text_input("ุฑูู ุงููุงุชู").strip()
        
        if st.button("ุชุณุฌูู ุงูุฏุฎูู"):
            if name_in == ADMIN_NAME.upper() and phone_in == ADMIN_PHONE:
                st.session_state.authenticated = True
                st.rerun()
            else:
                st.error("ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ุบูุฑ ูุทุงุจูุฉ ูุจูุงูุงุช ุงููุฏูุฑ.")
    st.stop()

# --- ูุงุฌูุฉ ุงูููุธููุฉ ุงููุงููุฉ ุจุนุฏ ุงูุฏุฎูู ---
st.title("๐ฆ ูุงุฌูุฉ ุดุฑูุฉ ุงููุณุงุฑ ุงูุฐูุจู")
st.success(f"ูุฑุญุจุงู ุจู ูุง ุณูุฏ {ADMIN_NAME}")
# ุถุน ููุง ููุฏ ุณุญุจ ุงูุฌูุงุฒุงุช ุงูุฎุงุต ุจู
st.file_uploader("ุงุฑูุน ุตูุฑ ุงูุฌูุงุฒุงุช ูุจุฏุก ุงููุนุงูุฌุฉ")
